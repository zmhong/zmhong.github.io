<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,IE=9,chrome=1"><meta name="generator" content="MATLAB 2023b"><title>实验5 MATLAB程序设计</title><style type="text/css">.rtcContent { padding: 30px; } .S0 { margin: 3px 10px 5px 4px; padding: 0px; line-height: 20px; min-height: 0px; white-space: pre-wrap; color: rgb(33, 33, 33); font-family: Helvetica, Arial, sans-serif; font-style: normal; font-size: 20px; font-weight: 700; text-align: left;  }
.S1 { margin: 2px 10px 9px 4px; padding: 0px; line-height: 21px; min-height: 0px; white-space: pre-wrap; color: rgb(33, 33, 33); font-family: Helvetica, Arial, sans-serif; font-style: normal; font-size: 14px; font-weight: 400; text-align: left;  }
.S2 { margin: 3px 10px 5px 4px; padding: 0px; line-height: 18px; min-height: 0px; white-space: pre-wrap; color: rgb(33, 33, 33); font-family: Helvetica, Arial, sans-serif; font-style: normal; font-size: 17px; font-weight: 700; text-align: left;  }
.S3 { margin: 10px 10px 5px 4px; padding: 0px; line-height: 18px; min-height: 0px; white-space: pre-wrap; color: rgb(33, 33, 33); font-family: Helvetica, Arial, sans-serif; font-style: normal; font-size: 15px; font-weight: 700; text-align: left;  }
.CodeBlock { background-color: #F5F5F5; margin: 10px 0 10px 0; }
.S4 { border-left: 1px solid rgb(217, 217, 217); border-right: 1px solid rgb(217, 217, 217); border-top: 1px solid rgb(217, 217, 217); border-bottom: 0px none rgb(33, 33, 33); border-radius: 4px 4px 0px 0px; padding: 6px 45px 0px 13px; line-height: 18.004px; min-height: 0px; white-space: nowrap; color: rgb(33, 33, 33); font-family: Menlo, Monaco, Consolas, "Courier New", monospace; font-size: 14px;  }
.S5 { border-left: 1px solid rgb(217, 217, 217); border-right: 1px solid rgb(217, 217, 217); border-top: 0px none rgb(33, 33, 33); border-bottom: 0px none rgb(33, 33, 33); border-radius: 0px; padding: 0px 45px 0px 13px; line-height: 18.004px; min-height: 0px; white-space: nowrap; color: rgb(33, 33, 33); font-family: Menlo, Monaco, Consolas, "Courier New", monospace; font-size: 14px;  }
.S6 { border-left: 1px solid rgb(217, 217, 217); border-right: 1px solid rgb(217, 217, 217); border-top: 0px none rgb(33, 33, 33); border-bottom: 1px solid rgb(217, 217, 217); border-radius: 0px 0px 4px 4px; padding: 0px 45px 4px 13px; line-height: 18.004px; min-height: 0px; white-space: nowrap; color: rgb(33, 33, 33); font-family: Menlo, Monaco, Consolas, "Courier New", monospace; font-size: 14px;  }</style></head><body><div class = rtcContent><h2  class = 'S0'><span style=' font-weight: bold;'>实验5 MATLAB程序设计</span></h2><div  class = 'S1'><span style=' text-decoration: underline;'>实验目的：</span><span>熟悉MATLAB程序的基本结构，了解MATLAB流程控制命令，能够编写简单的 MATLAB 命令文件和函数文件.</span></div><div  class = 'S1'><span style=' text-decoration: underline;'>实验内容：</span><span>首先，介绍MATLAB命令文件与函数文件; 其次，介绍MATLAB程序的基本结构，包括顺序结构、循环结构和选择结构; 最后，介绍MATLAB流程控制命令. </span></div><h3  class = 'S2'><span>5.1 命令文件与函数文件</span></h3><h4  class = 'S3'><span>1. 命令文件的建立、打开和运行</span></h4><h4  class = 'S3'><span>2. 函数文件的建立与调用</span></h4><h4  class = 'S3'><span>例5-1</span></h4><div class="CodeBlock"><div class="inlineWrapper"><div  class = 'S4'><span style="white-space: pre"><span style="color: rgb(0, 128, 19);">%function [V,S]=fsphere(r) % 计算半径为r的球体体积和表面积</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span style="color: rgb(0, 128, 19);">%V=(4*pi*r^3)/3;      % V为球体积 </span></span></div></div><div class="inlineWrapper"><div  class = 'S6'><span style="white-space: pre"><span style="color: rgb(0, 128, 19);">%S=4*pi*r^2;         % S为球表面积</span></span></div></div></div><h4  class = 'S3'><span>例5-2</span></h4><div class="CodeBlock"><div class="inlineWrapper"><div  class = 'S4'><span style="white-space: pre"><span style="color: rgb(0, 128, 19);">%function  [y1 , y2]=fun11(a , b , n)</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span style="color: rgb(0, 128, 19);">%y1=(a+b).^n ;</span></span></div></div><div class="inlineWrapper"><div  class = 'S6'><span style="white-space: pre"><span style="color: rgb(0, 128, 19);">%y2=(a-b).^n;</span></span></div></div></div><h4  class = 'S3'><span>3. M文件中数据的输入、输出方式</span></h4><div  class = 'S1'><span></span></div><h3  class = 'S2'><span>5.2 MATLAB程序的基本结构</span></h3><h4  class = 'S3'><span>1. 顺序结构</span></h4><h4  class = 'S3'><span>2. 循环结构</span></h4><h4  class = 'S3'><span>例5-3</span></h4><div class="CodeBlock"><div class="inlineWrapper"><div  class = 'S4'><span style="white-space: pre"><span >clear;clc;                 </span><span style="color: rgb(0, 128, 19);">%清除内存变量，清理命令窗口</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span >n=input(</span><span style="color: rgb(225, 27, 20);">‘请输入</span><span >n=</span><span style="color: rgb(225, 27, 20);">’</span><span >);     </span><span style="color: rgb(0, 128, 19);">%通过键盘输入正整数n的值</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span >s=0;                     </span><span style="color: rgb(0, 128, 19);">%设定存放和的变量s并赋初值0</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span style="color: rgb(14, 0, 255);">for </span><span >i=1:n                  </span><span style="color: rgb(0, 128, 19);">%定义循环变量i从1到n，以1为步长，即为奇数序号</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span >s=s+(2*i-1);            </span><span style="color: rgb(0, 128, 19);">%先计算右端奇数并累加后再赋给左端的变量s</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span >fprintf(</span><span style="color: rgb(167, 9, 245);">'i=%.0f, s=%.0f\n'</span><span >,i,s)    </span><span style="color: rgb(0, 128, 19);">%逐行显示出累加求和的过程</span></span></div></div><div class="inlineWrapper"><div  class = 'S6'><span style="white-space: pre"><span style="color: rgb(14, 0, 255);">end</span></span></div></div></div><h4  class = 'S3'><span>例5-4</span></h4><div class="CodeBlock"><div class="inlineWrapper"><div  class = 'S4'><span style="white-space: pre"><span >clear;clc;               </span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span >n=20;                   </span><span style="color: rgb(0, 128, 19);">%赋值给定正整数</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span >p=1;                    </span><span style="color: rgb(0, 128, 19);">%设定存放阶乘的变量p并赋初值1</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span style="color: rgb(14, 0, 255);">for </span><span >i=1:n                </span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span >p=p*i;                </span><span style="color: rgb(0, 128, 19);">%先计算右端乘积后再赋给左端的变量p</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span >fprintf(</span><span style="color: rgb(167, 9, 245);">'i=%.0f, p=%.0f\n'</span><span >,i,p)    </span><span style="color: rgb(0, 128, 19);">%逐行显示出i!</span></span></div></div><div class="inlineWrapper"><div  class = 'S6'><span style="white-space: pre"><span style="color: rgb(14, 0, 255);">end</span></span></div></div></div><h4  class = 'S3'><span>例5-5</span></h4><div class="CodeBlock"><div class="inlineWrapper"><div  class = 'S4'><span style="white-space: pre"><span >clear;clc;          </span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span >n=input(</span><span style="color: rgb(225, 27, 20);">‘请输入</span><span >n=</span><span style="color: rgb(225, 27, 20);">’</span><span >);    </span><span style="color: rgb(0, 128, 19);">%通过键盘输入正整数n的值</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span >p=1;                  </span><span style="color: rgb(0, 128, 19);">%设定存放阶乘的变量p并赋初值1</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span >s=1;                   </span><span style="color: rgb(0, 128, 19);">%设定存放累加和的变量s并赋初值1</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span style="color: rgb(14, 0, 255);">for </span><span >i=1:n           </span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span >p=p*i;              </span><span style="color: rgb(0, 128, 19);">%将p更新为当前p与i的乘积</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span >s=s+1/p;             </span><span style="color: rgb(0, 128, 19);">% 将s更新为当前s与1/p之和</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span >fprintf(</span><span style="color: rgb(167, 9, 245);">'i=%.0f, s=%.8f\n'</span><span >,i,s)    </span><span style="color: rgb(0, 128, 19);">%逐行显示第i次e的近似值</span></span></div></div><div class="inlineWrapper"><div  class = 'S6'><span style="white-space: pre"><span style="color: rgb(14, 0, 255);">end</span></span></div></div></div><h4  class = 'S3'><span>例5-6</span></h4><div class="CodeBlock"><div class="inlineWrapper"><div  class = 'S4'><span style="white-space: pre"><span >clear;clc;               </span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span >n=0;                            </span><span style="color: rgb(0, 128, 19);">%设定正整数并赋初值0</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span >s=0;                            </span><span style="color: rgb(0, 128, 19);">%设定存放累加和的变量s并赋初值0</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span style="color: rgb(14, 0, 255);">while</span><span >  s&lt;=1000                  </span><span style="color: rgb(0, 128, 19);">%用累加和s与1000进行比较作为循环条件</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span >n=n+1;                       </span><span style="color: rgb(0, 128, 19);">% n更新为当前n+1</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span >s=s+sqrt(n);                   </span><span style="color: rgb(0, 128, 19);">%更新s</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span >fprintf(</span><span style="color: rgb(167, 9, 245);">'n=%.0f, s=%.4f\n'</span><span >,n,s)   </span></span></div></div><div class="inlineWrapper"><div  class = 'S6'><span style="white-space: pre"><span style="color: rgb(14, 0, 255);">end</span></span></div></div></div><h4  class = 'S3'><span>例5-7</span></h4><div class="CodeBlock"><div class="inlineWrapper"><div  class = 'S4'><span style="white-space: pre"><span >clear;clc;	            </span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span >p=1;                   </span><span style="color: rgb(0, 128, 19);">%设定存放阶乘的变量p并赋初值1</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span >s=1;                   </span><span style="color: rgb(0, 128, 19);">%设定存放累加和的变量s并赋初值1</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span >r=1;                   </span><span style="color: rgb(0, 128, 19);">%设定前后两次近似值的误差r并赋初值1</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span >k=0;                   </span><span style="color: rgb(0, 128, 19);">%设定构造连续正整数的变量k赋初值0又为循环次数</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span style="color: rgb(14, 0, 255);">while </span><span >r&gt;=1.0e-8          </span><span style="color: rgb(0, 128, 19);">%当近似值的精度r没达到 时继续循环</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span >k=k+1;              </span><span style="color: rgb(0, 128, 19);">%累计循环次数并作为下一个正整数k</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span >p=p*k;              </span><span style="color: rgb(0, 128, 19);">%计算k的阶乘p</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span >r=1/p;              </span><span style="color: rgb(0, 128, 19);">%计算前后两次近似值的误差r</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span >s=s+r;               </span><span style="color: rgb(0, 128, 19);">%计算e的近似值s</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span >fprintf(</span><span style="color: rgb(167, 9, 245);">'k=%.0f, s=%.10f\n'</span><span >,k,s)     </span></span></div></div><div class="inlineWrapper"><div  class = 'S6'><span style="white-space: pre"><span style="color: rgb(14, 0, 255);">end</span></span></div></div></div><h4  class = 'S3'><span>例5-8</span></h4><div class="CodeBlock"><div class="inlineWrapper"><div  class = 'S4'><span style="white-space: pre"><span >m=input(</span><span style="color: rgb(167, 9, 245);">'请输入 m= '</span><span >); </span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span >n=input(</span><span style="color: rgb(167, 9, 245);">'请输入 n= '</span><span >); </span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span style="color: rgb(14, 0, 255);">for </span><span >i = 1: m</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span style="color: rgb(14, 0, 255);">for </span><span >j = 1: n</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span >A(i,j) =i+j;</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span style="color: rgb(14, 0, 255);">end</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span style="color: rgb(14, 0, 255);">end</span></span></div></div><div class="inlineWrapper"><div  class = 'S6'><span style="white-space: pre"><span >A</span></span></div></div></div><h4  class = 'S3'><span>3. 选择结构</span></h4><h4  class = 'S3'><span>例5-9</span></h4><div class="CodeBlock"><div class="inlineWrapper"><div  class = 'S4'><span style="white-space: pre"><span >x=input(</span><span style="color: rgb(167, 9, 245);">'请输入x的值：'</span><span >);</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span style="color: rgb(14, 0, 255);">if</span><span >  x&lt;=0</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span >y=-5</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span style="color: rgb(14, 0, 255);">else</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span >y=x*exp(x)</span></span></div></div><div class="inlineWrapper"><div  class = 'S6'><span style="white-space: pre"><span style="color: rgb(14, 0, 255);">end</span></span></div></div></div><h4  class = 'S3'><span>例5-10</span></h4><div class="CodeBlock"><div class="inlineWrapper"><div  class = 'S4'><span style="white-space: pre"><span >a=input(</span><span style="color: rgb(167, 9, 245);">'请输入一组数（用中括号括起来）：'</span><span >)  </span><span style="color: rgb(0, 128, 19);">%通过键盘输入数据</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span >n=length(a);               </span><span style="color: rgb(0, 128, 19);">%获取数组元素的个数n</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span >M=a(1);                  </span><span style="color: rgb(0, 128, 19);">%将第一个元素作为最大值赋值给M</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span style="color: rgb(14, 0, 255);">for </span><span >i=2:n                  </span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span style="color: rgb(14, 0, 255);">if</span><span >  a(i)&gt;M             </span><span style="color: rgb(0, 128, 19);">%如果a(i)大于M</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span >M=a(i);            </span><span style="color: rgb(0, 128, 19);">%更新M</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span style="color: rgb(14, 0, 255);">end</span><span >                  </span><span style="color: rgb(0, 128, 19);">%选择结构结束</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span style="color: rgb(14, 0, 255);">end</span><span >                      </span><span style="color: rgb(0, 128, 19);">%循环结构结束</span></span></div></div><div class="inlineWrapper"><div  class = 'S6'><span style="white-space: pre"><span >M                     </span><span style="color: rgb(0, 128, 19);">%输出最大数</span></span></div></div></div><h4  class = 'S3'><span>例5-11</span></h4><div class="CodeBlock"><div class="inlineWrapper"><div  class = 'S4'><span style="white-space: pre"><span style="color: rgb(14, 0, 255);">function</span><span >  [M,k]=findM(a)   </span><span style="color: rgb(0, 128, 19);">%定义函数findM，输入数组a，返回最大元素M及位置k</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span >n=length(a);               </span><span style="color: rgb(0, 128, 19);">%获取数组的长度即元素的个数n</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span >M=a(1);                  </span><span style="color: rgb(0, 128, 19);">%将第一个元素作为最大值赋值给M</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span >k=1;                     </span><span style="color: rgb(0, 128, 19);">%第一个元素下标1赋值给位置变量k</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span style="color: rgb(14, 0, 255);">for </span><span >i=2:n                   </span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span style="color: rgb(14, 0, 255);">if</span><span >  a(i)&gt;M             </span><span style="color: rgb(0, 128, 19);">%如果a(i)大于M</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span >M=a(i);            </span><span style="color: rgb(0, 128, 19);">%更新M</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span >k=i;               </span><span style="color: rgb(0, 128, 19);">%更新位置</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span style="color: rgb(14, 0, 255);">end</span><span >                   </span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span style="color: rgb(14, 0, 255);">end</span><span >                      </span></span></div></div><div class="inlineWrapper"><div  class = 'S5'>&nbsp;</div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span >a=[1,10,pi,-5,3.2,0];       </span><span style="color: rgb(0, 128, 19);">%任意给定一数组</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span >[M,k]=findM(a);          </span><span style="color: rgb(0, 128, 19);">%调用函数findM</span></span></div></div><div class="inlineWrapper"><div  class = 'S6'><span style="white-space: pre"><span >fprintf(</span><span style="color: rgb(167, 9, 245);">'最大数M=%.3f, 所在位置k=%.d\n'</span><span >,M,k)</span></span></div></div></div><h4  class = 'S3'><span>例5-12</span></h4><div class="CodeBlock"><div class="inlineWrapper"><div  class = 'S4'><span style="white-space: pre"><span style="color: rgb(14, 0, 255);">function</span><span >  c=jiecheng(n)   </span><span style="color: rgb(0, 128, 19);">%定义函数jiecheng，输入自然数n，返回n的阶乘c</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span style="color: rgb(14, 0, 255);">if </span><span >n&lt;=1              </span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span >c=1;           </span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span style="color: rgb(14, 0, 255);">else</span><span >           </span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span >c=jiecheng(n-1)*n;            </span><span style="color: rgb(0, 128, 19);">%递归调用函数jiecheng(n-1)求n-1的阶乘</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span style="color: rgb(14, 0, 255);">end</span><span >                   </span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span >s=0;</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span style="color: rgb(14, 0, 255);">for </span><span >n=1:15</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span >s=s+(1/jiecheng(n))+2*n;  </span><span style="color: rgb(0, 128, 19);">%调用函数文件jiecheng计算s</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span style="color: rgb(14, 0, 255);">end</span></span></div></div><div class="inlineWrapper"><div  class = 'S6'><span style="white-space: pre"><span >s</span></span></div></div></div><h4  class = 'S3'><span>例5-13</span></h4><div class="CodeBlock"><div class="inlineWrapper"><div  class = 'S4'><span style="white-space: pre"><span >fs= input(</span><span style="color: rgb(167, 9, 245);">'请输入考试得分fs：'</span><span >) ;  </span><span style="color: rgb(0, 128, 19);">%由键盘输入百分制分数</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span style="color: rgb(14, 0, 255);">if </span><span >fs&gt;=90               </span><span style="color: rgb(0, 128, 19);">%判断分数fs是否处在优秀级别上</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span >jb=</span><span style="color: rgb(167, 9, 245);">' A '</span><span >;             </span><span style="color: rgb(0, 128, 19);">%定义为A级</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span style="color: rgb(14, 0, 255);">elseif </span><span >fs&gt;=78            </span><span style="color: rgb(0, 128, 19);">%判断分数fs是否处在良好级别上</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span >jb=</span><span style="color: rgb(167, 9, 245);">' B '</span><span >;             </span><span style="color: rgb(0, 128, 19);">%定义为B级</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span style="color: rgb(14, 0, 255);">elseif </span><span >fs&gt;=60            </span><span style="color: rgb(0, 128, 19);">%判断分数fs是否处在合格级别上</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span >jb=</span><span style="color: rgb(167, 9, 245);">' C '</span><span >;             </span><span style="color: rgb(0, 128, 19);">%定义为C级</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span style="color: rgb(14, 0, 255);">else</span><span >                   </span><span style="color: rgb(0, 128, 19);">%分数fs不处于以上任何级别上</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span >jb=</span><span style="color: rgb(167, 9, 245);">' D '</span><span >;             </span><span style="color: rgb(0, 128, 19);">%定义为D级</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span style="color: rgb(14, 0, 255);">end</span><span >                    </span><span style="color: rgb(0, 128, 19);">%选择结构结束</span></span></div></div><div class="inlineWrapper"><div  class = 'S6'><span style="white-space: pre"><span >jb</span></span></div></div></div><h4  class = 'S3'><span>例5-14</span></h4><div class="CodeBlock"><div class="inlineWrapper"><div  class = 'S4'><span style="white-space: pre"><span >fs= input(</span><span style="color: rgb(167, 9, 245);">'请输入分数fs：'</span><span >);     </span><span style="color: rgb(0, 128, 19);">%由键盘输入百分制分数</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span style="color: rgb(14, 0, 255);">switch </span><span >fix(fs/10)           </span><span style="color: rgb(0, 128, 19);">%将百分制分数除以10后，向0取整</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span style="color: rgb(14, 0, 255);">case </span><span >{10,9}            </span><span style="color: rgb(0, 128, 19);">%90-100分为A</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span >grade=</span><span style="color: rgb(167, 9, 245);">'A'</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span style="color: rgb(14, 0, 255);">case </span><span >8                 </span><span style="color: rgb(0, 128, 19);">%80-89分为B</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span >grade=</span><span style="color: rgb(167, 9, 245);">'B'</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span style="color: rgb(14, 0, 255);">case </span><span >7                 </span><span style="color: rgb(0, 128, 19);">%70-79分为C</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span >grade=</span><span style="color: rgb(167, 9, 245);">'C'</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span style="color: rgb(14, 0, 255);">case </span><span >6                 </span><span style="color: rgb(0, 128, 19);">%60-69分为D</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span >grade=</span><span style="color: rgb(167, 9, 245);">'D' </span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span style="color: rgb(14, 0, 255);">otherwise</span><span >  </span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span >grade=</span><span style="color: rgb(167, 9, 245);">'E'</span><span >             </span><span style="color: rgb(0, 128, 19);">%60以下为E</span></span></div></div><div class="inlineWrapper"><div  class = 'S6'><span style="white-space: pre"><span style="color: rgb(14, 0, 255);">end</span></span></div></div></div><h4  class = 'S3'><span>例5-15</span></h4><div class="CodeBlock"><div class="inlineWrapper"><div  class = 'S4'><span style="white-space: pre"><span >clear      </span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span >a=[1,2,3;4,5,6;7,8,9;0,0,0];</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span >b=[2019];</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span >c=[2,0,1,9];</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span style="color: rgb(14, 0, 255);">try</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span >d=a*b</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span >e=a*c</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span style="color: rgb(14, 0, 255);">catch</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span >e=c*a</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span style="color: rgb(14, 0, 255);">end</span></span></div></div><div class="inlineWrapper"><div  class = 'S6'><span style="white-space: pre"><span >lasterr         </span><span style="color: rgb(0, 128, 19);">%显示错误信息</span></span></div></div></div><h4  class = 'S3'><span></span></h4><h3  class = 'S2'><span>5.3 程序的流程控制</span></h3><h4  class = 'S3'><span>1. continue命令</span></h4><h4  class = 'S3'><span>例5-16</span></h4><div class="CodeBlock"><div class="inlineWrapper"><div  class = 'S4'><span style="white-space: pre"><span >result=[];</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span style="color: rgb(14, 0, 255);">for </span><span >i=1:100</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span style="color: rgb(14, 0, 255);">if </span><span >mod(i,5)~=0</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span style="color: rgb(14, 0, 255);">continue</span><span >     </span><span style="color: rgb(0, 128, 19);">%若i不能被5整除，则本次循环中剩余语句不再执行，i自动加1,进入下一次循环</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span style="color: rgb(14, 0, 255);">end</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span >result=[result,i]</span></span></div></div><div class="inlineWrapper"><div  class = 'S6'><span style="white-space: pre"><span style="color: rgb(14, 0, 255);">end</span></span></div></div></div><h4  class = 'S3'><span>2. break命令</span></h4><h4  class = 'S3'><span>例5-17</span></h4><div class="CodeBlock"><div class="inlineWrapper"><div  class = 'S4'><span style="white-space: pre"><span >n=100;             </span><span style="color: rgb(0, 128, 19);">%给定一个较大的n作为数列的位置</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span >a=[1,1];            </span><span style="color: rgb(0, 128, 19);">%设定数列的初始值</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span style="color: rgb(14, 0, 255);">for</span><span >  i=3:n          </span><span style="color: rgb(0, 128, 19);">%从第3个元素开始循环递推生成后续元素</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span >p=a(i-1)+a(i-2);    </span><span style="color: rgb(0, 128, 19);">%前两个元素之和生成后续元素p</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span >a=[a,p];          </span><span style="color: rgb(0, 128, 19);">%将刚产生的元素p放置到数组a的最后，拼接成新的数组</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span style="color: rgb(14, 0, 255);">if</span><span >  p&gt;10000       </span><span style="color: rgb(0, 128, 19);">%判断将刚产生的元素p是否超过10000</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span style="color: rgb(14, 0, 255);">break</span><span >;         </span><span style="color: rgb(0, 128, 19);">%跳出所在的for循环</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span style="color: rgb(14, 0, 255);">end</span><span >              </span><span style="color: rgb(0, 128, 19);">%选择结构结束</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span style="color: rgb(14, 0, 255);">end</span><span >                </span><span style="color: rgb(0, 128, 19);">%循环结构结束</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span >a                  </span><span style="color: rgb(0, 128, 19);">%显示所生成的数列，最后一个元素即为所求的元素</span></span></div></div><div class="inlineWrapper"><div  class = 'S6'><span style="white-space: pre"><span >b=a(length(a))       </span><span style="color: rgb(0, 128, 19);">%将所生成的数列的最后一个元素赋值给b</span></span></div></div></div><h4  class = 'S3'><span>3. pause命令</span></h4><h4  class = 'S3'><span>例5-18</span></h4><div class="CodeBlock"><div class="inlineWrapper"><div  class = 'S4'><span style="white-space: pre"><span >clear;clf;                        </span><span style="color: rgb(0, 128, 19);">%清除内存变量，清理图形窗口</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span >hold </span><span style="color: rgb(167, 9, 245);">on</span><span >                         </span><span style="color: rgb(0, 128, 19);">%开启图形保持功能以便重复画点</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span >axis([0,150,2,2.8]);                </span><span style="color: rgb(0, 128, 19);">%设置坐标窗口</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span >grid                            </span><span style="color: rgb(0, 128, 19);">%画出坐标网格</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span style="color: rgb(14, 0, 255);">for </span><span >n=2:2:150                    </span><span style="color: rgb(0, 128, 19);">%让n从2开始，建立循环</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span >an=(1+1/n)^n;                 </span><span style="color: rgb(0, 128, 19);">%计算数列的值</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span >plot(n,an,</span><span style="color: rgb(167, 9, 245);">'r.'</span><span >,</span><span style="color: rgb(167, 9, 245);">'markersize'</span><span >,15);     </span><span style="color: rgb(0, 128, 19);">%画出相应的坐标点，点的大小为15</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span >pause(0.1);                    </span><span style="color: rgb(0, 128, 19);">%暂停0.1秒后开始下一循环</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span >fprintf(</span><span style="color: rgb(167, 9, 245);">'n=%d an=%.4f\n'</span><span >,n,an);   </span><span style="color: rgb(0, 128, 19);">%显示出每次结算结果（在命令窗口中）</span></span></div></div><div class="inlineWrapper"><div  class = 'S6'><span style="white-space: pre"><span style="color: rgb(14, 0, 255);">end</span></span></div></div></div><h4  class = 'S3'><span>4. return命令</span></h4><h4  class = 'S3'><span>5. warning命令</span></h4><h4  class = 'S3'><span>例5-19</span></h4><div class="CodeBlock"><div class="inlineWrapper"><div  class = 'S4'><span style="white-space: pre"><span style="color: rgb(14, 0, 255);">function </span><span >y=fun5_19(x)</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span style="color: rgb(0, 128, 19);">%该函数用于求函数x^2*sin(x)+logx/log3</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span >a1=</span><span style="color: rgb(167, 9, 245);">'负数'</span><span >;</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span >a2=0;</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span style="color: rgb(14, 0, 255);">if </span><span >x&lt;0</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span >y=[];</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span >warning(</span><span style="color: rgb(167, 9, 245);">'x的值不能为%s!'</span><span >,a1);</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span style="color: rgb(14, 0, 255);">return</span><span >;</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span style="color: rgb(14, 0, 255);">elseif </span><span >x==0</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span >y=[];</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span >warning(</span><span style="color: rgb(167, 9, 245);">' x的值不能为%d!'</span><span >,a2);</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span style="color: rgb(14, 0, 255);">return</span><span >;</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span style="color: rgb(14, 0, 255);">else</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span >y=x.^2.*sin(x)+log(x)./log(3);</span></span></div></div><div class="inlineWrapper"><div  class = 'S6'><span style="white-space: pre"><span style="color: rgb(14, 0, 255);">end</span></span></div></div></div><h4  class = 'S3'><span>例5-20</span></h4><div class="CodeBlock"><div class="inlineWrapper"><div  class = 'S4'><span style="white-space: pre"><span style="color: rgb(14, 0, 255);">function </span><span >C=fun5_20(A,B)</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span style="color: rgb(0, 128, 19);">%此函数用于求矩阵A,B的和</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span >[m1,n1]=size(A);</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span >[m2,n2]=size(B);</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span style="color: rgb(0, 128, 19);">%若A,B中有一个是空矩阵，或两个矩阵不同型，则返回空矩阵，并给出警告信息</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span style="color: rgb(14, 0, 255);">if </span><span >isempty(A)</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span >warning(</span><span style="color: rgb(167, 9, 245);">'A是空矩阵！'</span><span >);</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span >C=[];</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span style="color: rgb(14, 0, 255);">return</span><span >;</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span style="color: rgb(14, 0, 255);">elseif </span><span >isempty(B)</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span >warning(</span><span style="color: rgb(167, 9, 245);">'B是空矩阵！'</span><span >);</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span >C=[];</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span style="color: rgb(14, 0, 255);">return</span><span >;</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span style="color: rgb(14, 0, 255);">elseif </span><span >m1~=m2|n1~=n2</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span >warning(</span><span style="color: rgb(167, 9, 245);">'两个矩阵维数不一致！'</span><span >);</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span >C=[];</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span style="color: rgb(14, 0, 255);">return</span><span >;</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span style="color: rgb(14, 0, 255);">else</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span style="color: rgb(14, 0, 255);">for </span><span >i=1:m1</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span style="color: rgb(14, 0, 255);">for </span><span >j=1:n1</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span >C(i,j)= A(i,j)+ B(i,j);</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span style="color: rgb(14, 0, 255);">end</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span style="color: rgb(14, 0, 255);">end </span></span></div></div><div class="inlineWrapper"><div  class = 'S6'><span style="white-space: pre"><span style="color: rgb(14, 0, 255);">end</span></span></div></div></div><h4  class = 'S3'><span>6. echo命令和error命令</span></h4><h4  class = 'S3'><span></span></h4><h3  class = 'S2'><span>5.4 应用举例</span></h3><h4  class = 'S3'><span>例5-21</span></h4><div class="CodeBlock"><div class="inlineWrapper"><div  class = 'S4'><span style="white-space: pre"><span >clear,clc </span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span >a=[]; </span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span style="color: rgb(14, 0, 255);">for </span><span >k=100:999 </span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span >k1=fix(k/100);                </span><span style="color: rgb(0, 128, 19);">%取k的百位数 </span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span >k2=rem(fix(k/10),10);          </span><span style="color: rgb(0, 128, 19);">%取k的十位数 </span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span >k3=rem(k,10);                </span><span style="color: rgb(0, 128, 19);">%取k的个位数 </span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span style="color: rgb(14, 0, 255);">if </span><span >k==k1^3+k2^3+k3^3 </span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span >a=[a,k]; </span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span style="color: rgb(14, 0, 255);">end </span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span style="color: rgb(14, 0, 255);">end </span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span >disp(a) </span></span></div></div><div class="inlineWrapper"><div  class = 'S5'>&nbsp;</div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span >clear,clc </span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span >a=[]; </span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span style="color: rgb(14, 0, 255);">for </span><span >i=1:9 </span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span style="color: rgb(14, 0, 255);">for </span><span >j=0:9 </span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span style="color: rgb(14, 0, 255);">for </span><span >k=0:9; </span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span style="color: rgb(14, 0, 255);">if </span><span >i*100+j*10+k==i^3+j^3+k^3 </span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span >a=[a, i*100+j*10+k]; </span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span style="color: rgb(14, 0, 255);">end </span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span style="color: rgb(14, 0, 255);">end </span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span style="color: rgb(14, 0, 255);">end </span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span style="color: rgb(14, 0, 255);">end </span></span></div></div><div class="inlineWrapper"><div  class = 'S6'><span style="white-space: pre"><span >disp(a) </span></span></div></div></div><h4  class = 'S3'><span>例5-22</span></h4><div class="CodeBlock"><div class="inlineWrapper"><div  class = 'S4'><span style="white-space: pre"><span style="color: rgb(14, 0, 255);">function</span><span >  [a1,k]=jixian(A)  </span><span style="color: rgb(0, 128, 19);">%定义函数jixian，输入常数A，返回极限近似值和迭代次数</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span style="color: rgb(14, 0, 255);">if </span><span >A&lt;=0                 </span><span style="color: rgb(0, 128, 19);">%如果A不为正，则显示错误信息且a1= -1, k= -1并终止程序</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span >disp(</span><span style="color: rgb(167, 9, 245);">'data error!'</span><span >);</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span >a1=-1;</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span >k=-1;</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span style="color: rgb(14, 0, 255);">return</span><span >             </span><span style="color: rgb(0, 128, 19);">%终止程序返回调用处</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span style="color: rgb(14, 0, 255);">end</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span >a0=1; k=0;           </span><span style="color: rgb(0, 128, 19);">%给定数列的初始值a0和累计循环的变量k</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span >r=1;                </span><span style="color: rgb(0, 128, 19);">%设定存放相邻两次迭代值差的绝对值，赋初值1</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span style="color: rgb(14, 0, 255);">while </span><span >r&gt;=1.0e-5       </span><span style="color: rgb(0, 128, 19);">%当误差没达到 时继续循环</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span >k=k+1;           </span><span style="color: rgb(0, 128, 19);">%循环次数累加一次</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span >a1=(a0+A/a0)/2;   </span><span style="color: rgb(0, 128, 19);">%计算下一个元素a1</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span >r=abs(a1-a0);     </span><span style="color: rgb(0, 128, 19);">%计算前后两次迭代值差的绝对值，存放在r中</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span >a0=a1;           </span><span style="color: rgb(0, 128, 19);">%将a1赋给a0作为新的初值，迭代下一个元素</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span >fprintf(</span><span style="color: rgb(167, 9, 245);">'k=%.0f a1=%.8f\n'</span><span >,k,a1)    </span><span style="color: rgb(0, 128, 19);">%显示每次迭代结果</span></span></div></div><div class="inlineWrapper"><div  class = 'S6'><span style="white-space: pre"><span style="color: rgb(14, 0, 255);">end</span></span></div></div></div><h4  class = 'S3'><span>例5-23</span></h4><div class="CodeBlock"><div class="inlineWrapper"><div  class = 'S4'><span style="white-space: pre"><span style="color: rgb(14, 0, 255);">function</span><span >  k=hezhishu(M)  </span><span style="color: rgb(0, 128, 19);">%定义函数hezhishu，输入正整数M，返回合质数的标志k</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span >k=1;                         </span><span style="color: rgb(0, 128, 19);">%赋数k初值为1，默认为质数</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span style="color: rgb(14, 0, 255);">if</span><span >  M&lt;=1</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span >disp(</span><span style="color: rgb(167, 9, 245);">' data  error!'</span><span >);k=-1;  </span><span style="color: rgb(0, 128, 19);">%输入的数非合质数时，输出错误信息</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span style="color: rgb(14, 0, 255);">return</span><span >                   </span><span style="color: rgb(0, 128, 19);">%程序终止，返回</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span style="color: rgb(14, 0, 255);">end</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span style="color: rgb(14, 0, 255);">if</span><span >  M&gt;=4                    </span><span style="color: rgb(0, 128, 19);">%输入的数M从4开始，2，3为质数</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span style="color: rgb(14, 0, 255);">for</span><span >  m=2: fix(sqrt(M))     </span><span style="color: rgb(0, 128, 19);">%从2到 开始循环</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span style="color: rgb(14, 0, 255);">if</span><span >  mod(M,m)==0     </span><span style="color: rgb(0, 128, 19);">%M被m整除，即M为合数</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span >k=0;            </span><span style="color: rgb(0, 128, 19);">%赋数k为0，表示M为合数</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span >fprintf(</span><span style="color: rgb(167, 9, 245);">'%.0f=%.0f×%.0f\n'</span><span >,M,m,M/m)  </span><span style="color: rgb(0, 128, 19);">%显示M=m×n</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span style="color: rgb(14, 0, 255);">break</span><span >           </span><span style="color: rgb(0, 128, 19);">%循环终止</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span style="color: rgb(14, 0, 255);">end</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span style="color: rgb(14, 0, 255);">end</span></span></div></div><div class="inlineWrapper"><div  class = 'S6'><span style="white-space: pre"><span style="color: rgb(14, 0, 255);">end</span></span></div></div></div><h4  class = 'S3'><span>例5-24</span></h4><div class="CodeBlock"><div class="inlineWrapper"><div  class = 'S4'><span style="white-space: pre"><span >clear;clc;</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span >t=[90,110,170];              </span><span style="color: rgb(0, 128, 19);">%楼房的投资单价向量</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span >p=[115,150,205];            </span><span style="color: rgb(0, 128, 19);">%楼房的售价向量</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span >z=1250;                    </span><span style="color: rgb(0, 128, 19);">%总资本</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span >r=p-t;                      </span><span style="color: rgb(0, 128, 19);">%楼房的利润向量</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span >D=[];k=0;                  </span><span style="color: rgb(0, 128, 19);">%D为存放方案及利润的结果矩阵，k为行标</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span style="color: rgb(14, 0, 255);">for </span><span >a=1:5                   </span><span style="color: rgb(0, 128, 19);">% a为A类楼房的数量</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span style="color: rgb(14, 0, 255);">for </span><span >b=1:5                 </span><span style="color: rgb(0, 128, 19);">% b为B类楼房的数量</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span style="color: rgb(14, 0, 255);">for </span><span >c=1:5               </span><span style="color: rgb(0, 128, 19);">% c为C类楼房的数量</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span >f=[a,b,c];            </span><span style="color: rgb(0, 128, 19);">% f为建楼方案即各类楼房数量向量</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span style="color: rgb(14, 0, 255);">if</span><span >  f * t'&lt;=z          </span><span style="color: rgb(0, 128, 19);">% 计算f方案投资额度，如果投资允许，方案有效</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span >zr=f * r';         </span><span style="color: rgb(0, 128, 19);">% 计算f方案的利润</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span >k=k+1;           </span><span style="color: rgb(0, 128, 19);">%结果矩阵的行数加1</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span >D(k,:)=[f , zr];     </span><span style="color: rgb(0, 128, 19);">%方案及利润的结果存放矩阵D的k行</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span style="color: rgb(14, 0, 255);">end</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span style="color: rgb(14, 0, 255);">end</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span style="color: rgb(14, 0, 255);">end</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span style="color: rgb(14, 0, 255);">end</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span >[R, I]=max(D( : ,4));         </span><span style="color: rgb(0, 128, 19);">%求出矩阵D第4列（利润）中最大值所在的行I</span></span></div></div><div class="inlineWrapper"><div  class = 'S6'><span style="white-space: pre"><span >disp([D(I, : )])              </span><span style="color: rgb(0, 128, 19);">%显示出矩阵D的第I行，前三列即为建楼最优方案</span></span></div></div></div><h4  class = 'S3'><span>例5-25</span></h4><div class="CodeBlock"><div class="inlineWrapper"><div  class = 'S4'><span style="white-space: pre"><span >clear;clc;clf;</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span >hold </span><span style="color: rgb(167, 9, 245);">on</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span >axis([0 100 0 120]);</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span >grid</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span >A=[0,0];                   </span><span style="color: rgb(0, 128, 19);">%标记导弹的初始位置</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span >B=[0,100];                 </span><span style="color: rgb(0, 128, 19);">%标记敌机的初始位置</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span >d=norm(A-B);              </span><span style="color: rgb(0, 128, 19);">%计算两者之间的距离</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span >k=0;                      </span><span style="color: rgb(0, 128, 19);">% k为循环统计量，即为迭代的次数</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span >v=1;dt=1;K=2;             </span><span style="color: rgb(0, 128, 19);">%给定飞机速度v、时间间隔dt、速度关系系数K的值</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span style="color: rgb(14, 0, 255);">while </span><span >k&lt;10000              </span><span style="color: rgb(0, 128, 19);">%开始循环，次数不超过10000</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span >k=k+1;                </span><span style="color: rgb(0, 128, 19);">%循环次数累加1</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span >B=B+[v*dt,0];                      </span><span style="color: rgb(0, 128, 19);">%计算敌机位置</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span >plot(A(1),A(2),</span><span style="color: rgb(167, 9, 245);">'r.' </span><span >,</span><span style="color: rgb(167, 9, 245);">'markersize'</span><span >,15);    </span><span style="color: rgb(0, 128, 19);">%标记导弹位置</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span >plot(B(1),B(2),</span><span style="color: rgb(167, 9, 245);">'b.' </span><span >,</span><span style="color: rgb(167, 9, 245);">'markersize'</span><span >,15);    </span><span style="color: rgb(0, 128, 19);">%标记敌机位置</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span >e=B-A;d=norm(e);                   </span><span style="color: rgb(0, 128, 19);">%计算两者之间的距离</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span >fprintf(</span><span style="color: rgb(167, 9, 245);">'k=%.0f  B(%.0f,100)  A(%.2f,%.2f)  d=%.2f\n'</span><span >,k,B(1),A(1),A(2),d)</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span style="color: rgb(14, 0, 255);">if </span><span >d&lt;=0.5                </span><span style="color: rgb(0, 128, 19);">%如果飞机与导弹距离很小，可认为击中目标</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span style="color: rgb(14, 0, 255);">break</span><span >                </span><span style="color: rgb(0, 128, 19);">%终止循环</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span style="color: rgb(14, 0, 255);">end</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span >e=e/d;                   </span><span style="color: rgb(0, 128, 19);">%计算导弹飞行方向向量</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span >A=A+K*v*dt*e;          </span><span style="color: rgb(0, 128, 19);">%计算导弹位置</span></span></div></div><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre"><span >pause(0.2)               </span><span style="color: rgb(0, 128, 19);">%暂停0.2秒，放慢画图演示过程</span></span></div></div><div class="inlineWrapper"><div  class = 'S6'><span style="white-space: pre"><span style="color: rgb(14, 0, 255);">end</span></span></div></div></div><h4  class = 'S3'></h4>
<br>
<!-- 
##### SOURCE BEGIN #####
%% *实验5 MATLAB程序设计*
% 实验目的：熟悉MATLAB程序的基本结构，了解MATLAB流程控制命令，能够编写简单的 MATLAB 命令文件和函数文件.
% 
% 实验内容：首先，介绍MATLAB命令文件与函数文件; 其次，介绍MATLAB程序的基本结构，包括顺序结构、循环结构和选择结构; 最后，介绍MATLAB流程控制命令. 
% 5.1 命令文件与函数文件
% 1. 命令文件的建立、打开和运行
% 2. 函数文件的建立与调用
% 例5-1

%function [V,S]=fsphere(r) % 计算半径为r的球体体积和表面积
%V=(4*pi*r^3)/3;      % V为球体积 
%S=4*pi*r^2;         % S为球表面积
% 例5-2

%function  [y1 , y2]=fun11(a , b , n)
%y1=(a+b).^n ;
%y2=(a-b).^n;
% 3. M文件中数据的输入、输出方式
% 
% 5.2 MATLAB程序的基本结构
% 1. 顺序结构
% 2. 循环结构
% 例5-3

clear;clc;                 %清除内存变量，清理命令窗口
n=input(‘请输入n=’);     %通过键盘输入正整数n的值
s=0;                     %设定存放和的变量s并赋初值0
for i=1:n                  %定义循环变量i从1到n，以1为步长，即为奇数序号
s=s+(2*i-1);            %先计算右端奇数并累加后再赋给左端的变量s
fprintf('i=%.0f, s=%.0f\n',i,s)    %逐行显示出累加求和的过程
end
% 例5-4

clear;clc;               
n=20;                   %赋值给定正整数
p=1;                    %设定存放阶乘的变量p并赋初值1
for i=1:n                
p=p*i;                %先计算右端乘积后再赋给左端的变量p
fprintf('i=%.0f, p=%.0f\n',i,p)    %逐行显示出i!
end
% 例5-5

clear;clc;          
n=input(‘请输入n=’);    %通过键盘输入正整数n的值
p=1;                  %设定存放阶乘的变量p并赋初值1
s=1;                   %设定存放累加和的变量s并赋初值1
for i=1:n           
p=p*i;              %将p更新为当前p与i的乘积
s=s+1/p;             % 将s更新为当前s与1/p之和
fprintf('i=%.0f, s=%.8f\n',i,s)    %逐行显示第i次e的近似值
end
% 例5-6

clear;clc;               
n=0;                            %设定正整数并赋初值0
s=0;                            %设定存放累加和的变量s并赋初值0
while  s<=1000                  %用累加和s与1000进行比较作为循环条件
n=n+1;                       % n更新为当前n+1
s=s+sqrt(n);                   %更新s
fprintf('n=%.0f, s=%.4f\n',n,s)   
end
% 例5-7

clear;clc;	            
p=1;                   %设定存放阶乘的变量p并赋初值1
s=1;                   %设定存放累加和的变量s并赋初值1
r=1;                   %设定前后两次近似值的误差r并赋初值1
k=0;                   %设定构造连续正整数的变量k赋初值0又为循环次数
while r>=1.0e-8          %当近似值的精度r没达到 时继续循环
k=k+1;              %累计循环次数并作为下一个正整数k
p=p*k;              %计算k的阶乘p
r=1/p;              %计算前后两次近似值的误差r
s=s+r;               %计算e的近似值s
fprintf('k=%.0f, s=%.10f\n',k,s)     
end
% 例5-8

m=input('请输入 m= '); 
n=input('请输入 n= '); 
for i = 1: m
for j = 1: n
A(i,j) =i+j;
end
end
A
% 3. 选择结构
% 例5-9

x=input('请输入x的值：');
if  x<=0
y=-5
else
y=x*exp(x)
end
% 例5-10

a=input('请输入一组数（用中括号括起来）：')  %通过键盘输入数据
n=length(a);               %获取数组元素的个数n
M=a(1);                  %将第一个元素作为最大值赋值给M
for i=2:n                  
if  a(i)>M             %如果a(i)大于M
M=a(i);            %更新M
end                  %选择结构结束
end                      %循环结构结束
M                     %输出最大数
% 例5-11

function  [M,k]=findM(a)   %定义函数findM，输入数组a，返回最大元素M及位置k
n=length(a);               %获取数组的长度即元素的个数n
M=a(1);                  %将第一个元素作为最大值赋值给M
k=1;                     %第一个元素下标1赋值给位置变量k
for i=2:n                   
if  a(i)>M             %如果a(i)大于M
M=a(i);            %更新M
k=i;               %更新位置
end                   
end                      

a=[1,10,pi,-5,3.2,0];       %任意给定一数组
[M,k]=findM(a);          %调用函数findM
fprintf('最大数M=%.3f, 所在位置k=%.d\n',M,k)
% 例5-12

function  c=jiecheng(n)   %定义函数jiecheng，输入自然数n，返回n的阶乘c
if n<=1              
c=1;           
else           
c=jiecheng(n-1)*n;            %递归调用函数jiecheng(n-1)求n-1的阶乘
end                   
s=0;
for n=1:15
s=s+(1/jiecheng(n))+2*n;  %调用函数文件jiecheng计算s
end
s
% 例5-13

fs= input('请输入考试得分fs：') ;  %由键盘输入百分制分数
if fs>=90               %判断分数fs是否处在优秀级别上
jb=' A ';             %定义为A级
elseif fs>=78            %判断分数fs是否处在良好级别上
jb=' B ';             %定义为B级
elseif fs>=60            %判断分数fs是否处在合格级别上
jb=' C ';             %定义为C级
else                   %分数fs不处于以上任何级别上
jb=' D ';             %定义为D级
end                    %选择结构结束
jb
% 例5-14

fs= input('请输入分数fs：');     %由键盘输入百分制分数
switch fix(fs/10)           %将百分制分数除以10后，向0取整
case {10,9}            %90-100分为A
grade='A'
case 8                 %80-89分为B
grade='B'
case 7                 %70-79分为C
grade='C'
case 6                 %60-69分为D
grade='D' 
otherwise  
grade='E'             %60以下为E
end
% 例5-15

clear      
a=[1,2,3;4,5,6;7,8,9;0,0,0];
b=[2019];
c=[2,0,1,9];
try
d=a*b
e=a*c
catch
e=c*a
end
lasterr         %显示错误信息
% 
% 5.3 程序的流程控制
% 1. continue命令
% 例5-16

result=[];
for i=1:100
if mod(i,5)~=0
continue     %若i不能被5整除，则本次循环中剩余语句不再执行，i自动加1,进入下一次循环
end
result=[result,i]
end
% 2. break命令
% 例5-17

n=100;             %给定一个较大的n作为数列的位置
a=[1,1];            %设定数列的初始值
for  i=3:n          %从第3个元素开始循环递推生成后续元素
p=a(i-1)+a(i-2);    %前两个元素之和生成后续元素p
a=[a,p];          %将刚产生的元素p放置到数组a的最后，拼接成新的数组
if  p>10000       %判断将刚产生的元素p是否超过10000
break;         %跳出所在的for循环
end              %选择结构结束
end                %循环结构结束
a                  %显示所生成的数列，最后一个元素即为所求的元素
b=a(length(a))       %将所生成的数列的最后一个元素赋值给b
% 3. pause命令
% 例5-18

clear;clf;                        %清除内存变量，清理图形窗口
hold on                         %开启图形保持功能以便重复画点
axis([0,150,2,2.8]);                %设置坐标窗口
grid                            %画出坐标网格
for n=2:2:150                    %让n从2开始，建立循环
an=(1+1/n)^n;                 %计算数列的值
plot(n,an,'r.','markersize',15);     %画出相应的坐标点，点的大小为15
pause(0.1);                    %暂停0.1秒后开始下一循环
fprintf('n=%d an=%.4f\n',n,an);   %显示出每次结算结果（在命令窗口中）
end
% 4. return命令
% 5. warning命令
% 例5-19

function y=fun5_19(x)
%该函数用于求函数x^2*sin(x)+logx/log3
a1='负数';
a2=0;
if x<0
y=[];
warning('x的值不能为%s!',a1);
return;
elseif x==0
y=[];
warning(' x的值不能为%d!',a2);
return;
else
y=x.^2.*sin(x)+log(x)./log(3);
end
% 例5-20

function C=fun5_20(A,B)
%此函数用于求矩阵A,B的和
[m1,n1]=size(A);
[m2,n2]=size(B);
%若A,B中有一个是空矩阵，或两个矩阵不同型，则返回空矩阵，并给出警告信息
if isempty(A)
warning('A是空矩阵！');
C=[];
return;
elseif isempty(B)
warning('B是空矩阵！');
C=[];
return;
elseif m1~=m2|n1~=n2
warning('两个矩阵维数不一致！');
C=[];
return;
else
for i=1:m1
for j=1:n1
C(i,j)= A(i,j)+ B(i,j);
end
end 
end
% 6. echo命令和error命令
% 
% 5.4 应用举例
% 例5-21

clear,clc 
a=[]; 
for k=100:999 
k1=fix(k/100);                %取k的百位数 
k2=rem(fix(k/10),10);          %取k的十位数 
k3=rem(k,10);                %取k的个位数 
if k==k1^3+k2^3+k3^3 
a=[a,k]; 
end 
end 
disp(a) 

clear,clc 
a=[]; 
for i=1:9 
for j=0:9 
for k=0:9; 
if i*100+j*10+k==i^3+j^3+k^3 
a=[a, i*100+j*10+k]; 
end 
end 
end 
end 
disp(a) 
% 例5-22

function  [a1,k]=jixian(A)  %定义函数jixian，输入常数A，返回极限近似值和迭代次数
if A<=0                 %如果A不为正，则显示错误信息且a1= -1, k= -1并终止程序
disp('data error!');
a1=-1;
k=-1;
return             %终止程序返回调用处
end
a0=1; k=0;           %给定数列的初始值a0和累计循环的变量k
r=1;                %设定存放相邻两次迭代值差的绝对值，赋初值1
while r>=1.0e-5       %当误差没达到 时继续循环
k=k+1;           %循环次数累加一次
a1=(a0+A/a0)/2;   %计算下一个元素a1
r=abs(a1-a0);     %计算前后两次迭代值差的绝对值，存放在r中
a0=a1;           %将a1赋给a0作为新的初值，迭代下一个元素
fprintf('k=%.0f a1=%.8f\n',k,a1)    %显示每次迭代结果
end
% 例5-23

function  k=hezhishu(M)  %定义函数hezhishu，输入正整数M，返回合质数的标志k
k=1;                         %赋数k初值为1，默认为质数
if  M<=1
disp(' data  error!');k=-1;  %输入的数非合质数时，输出错误信息
return                   %程序终止，返回
end
if  M>=4                    %输入的数M从4开始，2，3为质数
for  m=2: fix(sqrt(M))     %从2到 开始循环
if  mod(M,m)==0     %M被m整除，即M为合数
k=0;            %赋数k为0，表示M为合数
fprintf('%.0f=%.0f×%.0f\n',M,m,M/m)  %显示M=m×n
break           %循环终止
end
end
end
% 例5-24

clear;clc;
t=[90,110,170];              %楼房的投资单价向量
p=[115,150,205];            %楼房的售价向量
z=1250;                    %总资本
r=p-t;                      %楼房的利润向量
D=[];k=0;                  %D为存放方案及利润的结果矩阵，k为行标
for a=1:5                   % a为A类楼房的数量
for b=1:5                 % b为B类楼房的数量
for c=1:5               % c为C类楼房的数量
f=[a,b,c];            % f为建楼方案即各类楼房数量向量
if  f * t'<=z          % 计算f方案投资额度，如果投资允许，方案有效
zr=f * r';         % 计算f方案的利润
k=k+1;           %结果矩阵的行数加1
D(k,:)=[f , zr];     %方案及利润的结果存放矩阵D的k行
end
end
end
end
[R, I]=max(D( : ,4));         %求出矩阵D第4列（利润）中最大值所在的行I
disp([D(I, : )])              %显示出矩阵D的第I行，前三列即为建楼最优方案
% 例5-25

clear;clc;clf;
hold on
axis([0 100 0 120]);
grid
A=[0,0];                   %标记导弹的初始位置
B=[0,100];                 %标记敌机的初始位置
d=norm(A-B);              %计算两者之间的距离
k=0;                      % k为循环统计量，即为迭代的次数
v=1;dt=1;K=2;             %给定飞机速度v、时间间隔dt、速度关系系数K的值
while k<10000              %开始循环，次数不超过10000
k=k+1;                %循环次数累加1
B=B+[v*dt,0];                      %计算敌机位置
plot(A(1),A(2),'r.' ,'markersize',15);    %标记导弹位置
plot(B(1),B(2),'b.' ,'markersize',15);    %标记敌机位置
e=B-A;d=norm(e);                   %计算两者之间的距离
fprintf('k=%.0f  B(%.0f,100)  A(%.2f,%.2f)  d=%.2f\n',k,B(1),A(1),A(2),d)
if d<=0.5                %如果飞机与导弹距离很小，可认为击中目标
break                %终止循环
end
e=e/d;                   %计算导弹飞行方向向量
A=A+K*v*dt*e;          %计算导弹位置
pause(0.2)               %暂停0.2秒，放慢画图演示过程
end
%
##### SOURCE END #####
-->
</div></body></html>